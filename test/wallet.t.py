import sys
import os
sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), '../src')))

from wallet import AgentWallet

agent = AgentWallet()
agent.create_wallet("0x0000000000000000000000000000000000000010")
agent.fetch_data("0x0000000000000000000000000000000000000002")

agent._check_address("0x0000000000000000000000000000000000000002")
agent._fund_wallet("0x0000000000000000000000000000000000000002")
agent._transfer(user_address="0x0000000000000000000000000000000000000002", amount=1, asset_id='usdc', destination="0x82273B356C8c882371a4CbD276f666D8efb6745F")

# Mint tokens
agent._mint(user_address="0x0000000000000000000000000000000000000002", asset_id='usdc', amount=100)
agent._mint(user_address="0x0000000000000000000000000000000000000002", asset_id='usdt', amount=100)
agent._mint(user_address="0x0000000000000000000000000000000000000002", asset_id='uni', amount=100)
agent._mint(user_address="0x0000000000000000000000000000000000000002", asset_id='weth', amount=100)
agent._mint(user_address="0x0000000000000000000000000000000000000002", asset_id='dai', amount=100)

# Swap from USDC
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0x8fD29CC673C16d0466D5eA0250dC3d040554F4a3", token_out="0xbb072b81D265D4F574b324Cea7469C9369281Da0", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0x8fD29CC673C16d0466D5eA0250dC3d040554F4a3", token_out="0x1133c55280Be106f985622bF56dcc7Fb3C3D6Ee0", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0x8fD29CC673C16d0466D5eA0250dC3d040554F4a3", token_out="0xaa7DcAae6C6e579A326B860572Da90A149Dc1266", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0x8fD29CC673C16d0466D5eA0250dC3d040554F4a3", token_out="0x9A410E847e6161c96C72a7C40beaDAD5c86ea6aE", amount=5)

# Swap from UNI
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0xbb072b81D265D4F574b324Cea7469C9369281Da0", token_out="0x8fD29CC673C16d0466D5eA0250dC3d040554F4a3", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0xbb072b81D265D4F574b324Cea7469C9369281Da0", token_out="0x1133c55280Be106f985622bF56dcc7Fb3C3D6Ee0", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0xbb072b81D265D4F574b324Cea7469C9369281Da0", token_out="0xaa7DcAae6C6e579A326B860572Da90A149Dc1266", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0xbb072b81D265D4F574b324Cea7469C9369281Da0", token_out="0x9A410E847e6161c96C72a7C40beaDAD5c86ea6aE", amount=5)

# Swap from WETH
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0x1133c55280Be106f985622bF56dcc7Fb3C3D6Ee0", token_out="0x8fD29CC673C16d0466D5eA0250dC3d040554F4a3", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0x1133c55280Be106f985622bF56dcc7Fb3C3D6Ee0", token_out="0xbb072b81D265D4F574b324Cea7469C9369281Da0", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0x1133c55280Be106f985622bF56dcc7Fb3C3D6Ee0", token_out="0xaa7DcAae6C6e579A326B860572Da90A149Dc1266", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0x1133c55280Be106f985622bF56dcc7Fb3C3D6Ee0", token_out="0x9A410E847e6161c96C72a7C40beaDAD5c86ea6aE", amount=5)

# Swap from DAI
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0xaa7DcAae6C6e579A326B860572Da90A149Dc1266", token_out="0x8fD29CC673C16d0466D5eA0250dC3d040554F4a3", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0xaa7DcAae6C6e579A326B860572Da90A149Dc1266", token_out="0xbb072b81D265D4F574b324Cea7469C9369281Da0", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0xaa7DcAae6C6e579A326B860572Da90A149Dc1266", token_out="0x1133c55280Be106f985622bF56dcc7Fb3C3D6Ee0", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0xaa7DcAae6C6e579A326B860572Da90A149Dc1266", token_out="0x9A410E847e6161c96C72a7C40beaDAD5c86ea6aE", amount=5)

# Swap from DAI
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0x9A410E847e6161c96C72a7C40beaDAD5c86ea6aE", token_out="0x8fD29CC673C16d0466D5eA0250dC3d040554F4a3", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0x9A410E847e6161c96C72a7C40beaDAD5c86ea6aE", token_out="0xbb072b81D265D4F574b324Cea7469C9369281Da0", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0x9A410E847e6161c96C72a7C40beaDAD5c86ea6aE", token_out="0x1133c55280Be106f985622bF56dcc7Fb3C3D6Ee0", amount=5)
agent._swap(user_address="0x0000000000000000000000000000000000000002", spender="0xc34aE34Da7051ac971638d3F09FDF516Ea48C5c9", token_in="0x9A410E847e6161c96C72a7C40beaDAD5c86ea6aE", token_out="0xaa7DcAae6C6e579A326B860572Da90A149Dc1266", amount=5)


# Stake
agent._stake(user_address="0x0000000000000000000000000000000000000002", asset_id='uni', protocol='uniswap', spender="0x13aB00A1Fae23DCC5618690480cfdE86B04Bbaeb", days=1, amount=10)
agent._stake(user_address="0x0000000000000000000000000000000000000002", asset_id='usdt', protocol='compound', spender="0x71417c20c60eD165026336922925C4f25439B3a0", days=1, amount=10)
agent._stake(user_address="0x0000000000000000000000000000000000000002", asset_id='dai', protocol='renzo', spender="0xdbE2c044D5F350807c437A1b3748191FE9D83250", days=1, amount=10)
agent._stake(user_address="0x0000000000000000000000000000000000000002", asset_id='weth', protocol='cardano', spender="0x64D28469CAa42C51C57f42aCfD975E8AC4C1b0D2", days=1, amount=10)
agent._stake(user_address="0x0000000000000000000000000000000000000002", asset_id='usdc', protocol='aave', spender="0x55C30Ff712b97B3692fd4f838D13D84DE8Be38B4", days=1, amount=10)

print("All operations completed successfully!")